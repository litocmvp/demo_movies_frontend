"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[463],{770:function(t,e,a){a.r(e),a.d(e,{default:function(){return P}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("loading",{attrs:{active:t.vueLoading.isLoading,"can-cancel":!1,"is-full-page":t.vueLoading.fullPage,loader:t.vueLoading.loader,transition:t.vueLoading.transition,color:t.vueLoading.color,height:t.vueLoading.height,width:t.vueLoading.width,"background-color":t.vueLoading.bgColor,opacity:t.vueLoading.opacity,"enforce-focus":!0,"lock-scroll":!0,blur:t.vueLoading.blur}}),a("div",{staticClass:"row justify-content-center m-4"},[a("div",{staticClass:"d-flex"},[t._m(0),a("div",{staticClass:"d-inline mx-2"},[a("i",{staticClass:"bi bi-caret-down-square",attrs:{role:"button",id:"ratingbtn","data-bs-toggle":"popover","data-bs-trigger":"hover focus","data-bs-content":"Minimizar Sección"},on:{click:function(e){return t.hidden("ratingbtn","ratingsbox")}}})]),t._m(1)]),a("div",{staticClass:"col-12"},[a("div",{staticClass:"row row-cols-1 row-cols-md-3 g-1 animate__animated",attrs:{id:"ratingsbox"}},t._l(t.ratings,(function(e){return a("div",{directives:[{name:"scroll-reveal",rawName:"v-scroll-reveal.reset",value:{delay:250},expression:"{ delay: 250 }",modifiers:{reset:!0}}],key:e.id,staticClass:"col hvr-grow"},[a("div",{staticClass:"card bg-dark text-white h-100 hovereffect"},[a("img",{staticClass:"card-img",attrs:{src:e.picture,alt:"..."}}),a("div",{staticClass:"card-img-overlay transbox"},[a("h5",{staticClass:"card-title"},[t._v(t._s(e.rating))]),a("p",{staticClass:"card-text"},[t._v(t._s(e.description))]),a("div",{staticClass:"overlay"},[a("button",{staticClass:"btn btn-outline-warning mx-3",attrs:{type:"button","data-bs-toggle":"modal","data-bs-target":"#modalModify"},on:{click:function(a){return t.modifyModel("titleLabel","Modificación de Clasificación Cinematográfica","hiddenId","rating/"+e.id,"titleID",e.rating,"descriptionID",e.description,"pictureID",e.picture)}}},[a("i",{staticClass:"bi bi-input-cursor-text"}),t._v(" Modificar ")]),a("button",{staticClass:"btn btn-outline-danger mx-3",attrs:{type:"button"},on:{click:function(a){return t.deleteItem("rating/"+e.id)}}},[a("i",{staticClass:"bi bi-file-earmark-x"}),t._v(" Eliminar ")])])])])])})),0)]),t._v(" "+t._s(t.updateRatings)+" ")]),a("div",{staticClass:"row justify-content-center m-4"},[a("div",{staticClass:"d-flex"},[t._m(2),a("div",{staticClass:"d-inline mx-2"},[a("i",{staticClass:"bi bi-caret-down-square",attrs:{role:"button",id:"genderbtn","data-bs-toggle":"popover","data-bs-trigger":"hover focus","data-bs-content":"Minimizar Sección"},on:{click:function(e){return t.hidden("genderbtn","gendersbox")}}})]),t._m(3)]),a("div",{staticClass:"col-12"},[a("div",{staticClass:"row row-cols-1 row-cols-md-3 g-1 animate__animated",attrs:{id:"gendersbox"}},t._l(t.genders,(function(e){return a("div",{directives:[{name:"scroll-reveal",rawName:"v-scroll-reveal.reset",value:{delay:250},expression:"{ delay: 250 }",modifiers:{reset:!0}}],key:e.id,staticClass:"col hvr-grow"},[a("div",{staticClass:"card bg-dark text-white h-100 hovereffect"},[a("img",{staticClass:"card-img",attrs:{src:e.picture,alt:"..."}}),a("div",{staticClass:"card-img-overlay transbox"},[a("h5",{staticClass:"card-title"},[t._v(t._s(e.gender))]),a("p",{staticClass:"card-text"},[t._v(t._s(e.description))]),a("div",{staticClass:"overlay"},[a("button",{staticClass:"btn btn-outline-warning mx-3",attrs:{type:"button","data-bs-toggle":"modal","data-bs-target":"#modalModify"},on:{click:function(a){return t.modifyModel("titleLabel","Modificación de Género Cinematográfico","hiddenId","gender/"+e.id,"titleID",e.gender,"descriptionID",e.description,"pictureID",e.picture)}}},[a("i",{staticClass:"bi bi-input-cursor-text"}),t._v(" Modificar ")]),a("button",{staticClass:"btn btn-outline-danger mx-3",attrs:{type:"button"},on:{click:function(a){return t.deleteItem("gender/"+e.id)}}},[a("i",{staticClass:"bi bi-file-earmark-x"}),t._v(" Eliminar ")])])])])])})),0)]),t._v(" "+t._s(t.updateGenders)+" ")]),a("NewBasicFutureMoviesComponetVue",{attrs:{modalID:"modalRating",titleID:"ratingLabel",title:"Formulario de Registro de Clasificación Cinematográfica",inputName:"Titulo de la Clasificación",inputNameID:"clasificacionID",inputDescription:"Breve Descripción de la Clasificación",inputDescriptionID:"newRatingDescID",inputPicture:"Dirección web (URL) de la imagen con relación a la clasificación",inputPictureID:"newRatingPicID",btnClose:"closeRating",urlBackend:"rating"},on:{update_loading:t.updateVueLoading}}),a("NewBasicFutureMoviesComponetVue",{attrs:{modalID:"modalGender",titleID:"genderLabel",title:"Formulario de Registro de Genero Cinematográfico",inputName:"Titulo del Genero",inputNameID:"generoID",inputDescription:"Breve Descripción del Genero",inputDescriptionID:"newGenderDescID",inputPicture:"Dirección web (URL) de la imagen con relación al genero",inputPictureID:"newGenderPicID",btnClose:"closeGender",urlBackend:"gender"},on:{update_loading:t.updateVueLoading}}),a("NewBasicFutureMoviesComponetVue",{attrs:{modalID:"modalModify",title:"Formulario de Modificación",inputName:"Titulo",inputDescription:"Descripción",inputPicture:"Dirección web (URL) de la imagen",btnClose:"closeModify",btnAction:"modify",methodHttp:"Put"},on:{update_loading:t.updateVueLoading}})],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-inline mx-2"},[a("h3",{staticClass:"text-muted fst-italic text-cencer"},[t._v("Clasificaciones Cinematográficas")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-inline mx-4",attrs:{"data-bs-toggle":"modal","data-bs-target":"#modalRating"}},[a("i",{staticClass:"bi bi-plus-circle",attrs:{role:"button","data-bs-toggle":"popover","data-bs-trigger":"hover focus","data-bs-content":"Registrar Nueva Clasificación Cinematográfica"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-inline mx-2"},[a("h3",{staticClass:"text-muted fst-italic text-cencer"},[t._v("Géneros Cinematográficos")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-inline mx-4",attrs:{"data-bs-toggle":"modal","data-bs-target":"#modalGender"}},[a("i",{staticClass:"bi bi-plus-circle",attrs:{role:"button","data-bs-toggle":"popover","data-bs-trigger":"hover focus","data-bs-content":"Registrar Nuevo Género Cinematográfico"}})])}],s=(a(6699),a(615)),n=a(6166),o=a.n(n),d=a(3233),c=a.n(d),l=a(5457),u=a(7924),m=a(6825),g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{id:t.modalID,tabindex:"-1","aria-labelledby":t.titleID,"aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},["save"===t.btnAction?a("form",{on:{submit:function(e){return e.preventDefault(),t.saveData.apply(null,arguments)}}},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:t.titleID}},[t._v(t._s(t.title))]),a("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label",attrs:{for:t.inputNameID}},[t._v(t._s(t.inputName)+" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.featureName.$model,expression:"$v.featureName.$model",modifiers:{trim:!0}}],ref:"featureName",staticClass:"form-control form-control-sm",class:{border:t.$v.featureName.$error,"border-danger":t.$v.featureName.$error},attrs:{id:t.inputNameID,type:"text"},domProps:{value:t.$v.featureName.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.featureName,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t.$v.featureName.required?t._e():a("div",{staticClass:"text-danger"},[t._v(" ingrese el Titulo ")])]),a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label",attrs:{for:t.inputDescriptionID}},[t._v(t._s(t.inputDescription)+" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.$v.featureDescription.$model,expression:"$v.featureDescription.$model"}],ref:"featureDescription",staticClass:"form-control form-control-sm",class:{border:t.$v.featureDescription.$error,"border-danger":t.$v.featureDescription.$error},attrs:{id:t.inputDescriptionID,col:"3",rows:"3"},domProps:{value:t.$v.featureDescription.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.featureDescription,"$model",e.target.value)}}})]),t.$v.featureDescription.required?t._e():a("div",{staticClass:"text-danger"},[t._v(" ingrese la Descripción ")]),t.$v.featureDescription.minLength&&t.$v.featureDescription.maxLength?t._e():a("div",{staticClass:"text-danger"},[t._v(" la descripcion debe contener al menos "+t._s(t.$v.featureDescription.$params.minLength.min)+" caracteres y maximo "+t._s(t.$v.featureDescription.$params.maxLength.max)+" ")])]),a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label",attrs:{for:t.inputPictureID}},[t._v(t._s(t.inputPicture)+" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.featurePicture.$model,expression:"$v.featurePicture.$model",modifiers:{trim:!0}}],ref:"featurePicture",staticClass:"form-control form-control-sm",class:{border:t.$v.featurePicture.$error,"border-danger":t.$v.featurePicture.$error},attrs:{id:t.inputPictureID,type:"text"},domProps:{value:t.$v.featurePicture.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.featurePicture,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),a("div",[a("img",{ref:"imgPreview",attrs:{src:t.srcImage,alt:"preview_default",width:"200",height:"auto"}})]),t.$v.featurePicture.required?t._e():a("div",{staticClass:"text-danger"},[t._v(" ingrese la URL de la imagen con relación al registro ")]),t.$v.featurePicture.url?t._e():a("div",{staticClass:"text-danger"},[t._v(" dirección URL erronea ")])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-bs-dismiss":"modal",id:t.btnClose}},[t._v("Cerrar")]),a("button",t._b({staticClass:"btn btn-primary",attrs:{type:"submit"}},"button",t.buttonAttr,!1),[t._v("Guardar Registro")])])]):a("form",{on:{submit:function(e){return e.preventDefault(),t.modifyData.apply(null,arguments)}}},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:t.titleID}},[t._v(t._s(t.title))]),a("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.featureId,expression:"featureId"}],staticClass:"form-control form-control-sm",attrs:{id:"hiddenId",name:"hiddenItem",type:"hidden"},domProps:{value:t.featureId},on:{input:function(e){e.target.composing||(t.featureId=e.target.value)}}})]),a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label",attrs:{for:t.inputNameID}},[t._v(t._s(t.inputName)+" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.featureName.$model,expression:"$v.featureName.$model",modifiers:{trim:!0}}],ref:"featureName",staticClass:"form-control form-control-sm",class:{border:t.$v.featureName.$error,"border-danger":t.$v.featureName.$error},attrs:{id:t.inputNameID,type:"text"},domProps:{value:t.$v.featureName.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.featureName,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t.$v.featureName.required?t._e():a("div",{staticClass:"text-danger"},[t._v(" ingrese el Titulo ")])]),a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label",attrs:{for:t.inputDescriptionID}},[t._v(t._s(t.inputDescription)+" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.$v.featureDescription.$model,expression:"$v.featureDescription.$model"}],ref:"featureDescription",staticClass:"form-control form-control-sm",class:{border:t.$v.featureDescription.$error,"border-danger":t.$v.featureDescription.$error},attrs:{id:t.inputDescriptionID,col:"3",rows:"3"},domProps:{value:t.$v.featureDescription.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.featureDescription,"$model",e.target.value)}}})]),t.$v.featureDescription.required?t._e():a("div",{staticClass:"text-danger"},[t._v(" ingrese la Descripción ")]),t.$v.featureDescription.minLength&&t.$v.featureDescription.maxLength?t._e():a("div",{staticClass:"text-danger"},[t._v(" la descripcion debe contener al menos "+t._s(t.$v.featureDescription.$params.minLength.min)+" caracteres y maximo "+t._s(t.$v.featureDescription.$params.maxLength.max)+" ")])]),a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label",attrs:{for:t.inputPictureID}},[t._v(t._s(t.inputPicture)+" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.featurePicture.$model,expression:"$v.featurePicture.$model",modifiers:{trim:!0}}],ref:"featurePicture",staticClass:"form-control form-control-sm",class:{border:t.$v.featurePicture.$error,"border-danger":t.$v.featurePicture.$error},attrs:{id:t.inputPictureID,type:"text"},domProps:{value:t.$v.featurePicture.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.featurePicture,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),a("div",[a("img",{ref:"imgPreview",attrs:{src:t.srcImage,alt:"preview_default",width:"200",height:"auto"}})]),t.$v.featurePicture.required?t._e():a("div",{staticClass:"text-danger"},[t._v(" ingrese la URL de la imagen con relación al registro ")]),t.$v.featurePicture.url?t._e():a("div",{staticClass:"text-danger"},[t._v(" dirección URL erronea ")])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-bs-dismiss":"modal",id:t.btnClose}},[t._v("Cerrar")]),a("button",t._b({staticClass:"btn btn-warning",attrs:{type:"submit"}},"button",t.buttonAttr,!1),[t._v("Modificar Registro")])])])])])])},f=[],p=a(6409);const v="https://cmvpmovie.pythonanywhere.com/api/v1.0/",b=a(366);var h={name:"BasicFuturesMovie",props:{modalID:String,titleID:{type:String,default:"titleLabel"},title:String,inputName:String,inputNameID:{type:String,default:"titleID"},inputDescription:String,inputDescriptionID:{type:String,default:"descriptionID"},inputPicture:String,inputPictureID:{type:String,default:"pictureID"},btnClose:String,btnAction:{type:String,default:"save"},urlBackend:String,methodHttp:{type:String,default:"Post"}},data(){return{featureId:null,featureName:null,featureDescription:null,featurePicture:null,srcImage:b}},validations:{featureName:{required:p.C1},featureDescription:{required:p.C1,minLength:(0,p.Ei)(10),maxLength:(0,p.BS)(60)},featurePicture:{required:p.C1,url:p.HQ}},methods:{async saveData(){if(0==this.featureName?.length||!this.featureName)return(0,l.w)("warning","Por favor ingresa el titulo"),void this.$refs.featureName.focus();if(0==this.featureDescription?.length||!this.featureDescription)return(0,l.w)("warning","Por favor ingresa la descripción"),void this.$refs.featureDescription.focus();if(0==this.featurePicture?.length||!this.featurePicture)return(0,l.w)("warning","Por favor ingresa la imagen"),void this.$refs.featurePicture.focus();this.$emit("update_loading",!0);const t={method:this.methodHttp,url:`${v}cinema/${this.urlBackend}`,data:{name:this.featureName,description:this.featureDescription,picture:this.featurePicture}};this.urlBackend.includes("rating")?delete Object.assign(t.data,{["rating"]:t.data["name"]})["name"]:delete Object.assign(t.data,{["gender"]:t.data["name"]})["name"],await o()(t).then((t=>{this.$emit("update_loading",!1),(0,l.w)(t.data.icon,t.data.msg);const e=t.data.record;document.getElementById(this.btnClose).click(),this.urlBackend.includes("rating")?s.Z.state.ratings.push(e):s.Z.state.genders.push(e),this.featureName="",this.featureDescription="",this.featurePicture=""})).catch((t=>{this.$emit("update_loading",!1),(0,l.w)("error",`${t.response.data.msg}, status: ${t.response.status}`)}))},async modifyData(){this.$emit("update_loading",!0);const t={method:this.methodHttp,url:`${v}cinema/${this.featureId}`,data:{name:this.featureName,description:this.featureDescription,picture:this.featurePicture}};this.featureId.includes("rating")?delete Object.assign(t.data,{["rating"]:t.data["name"]})["name"]:delete Object.assign(t.data,{["gender"]:t.data["name"]})["name"],await o()(t).then((t=>{this.$emit("update_loading",!1);const e=t.data.record;if((0,l.w)(t.data.icon,t.data.msg),document.getElementById(this.btnClose).click(),this.featureId.includes("rating")){let t=s.Z.state.ratings;t:for(let a=0;a<t.length;a+=1){let i=t[a];for(const[t,r]of Object.entries(i))if("id"==t&&String(r)==e.id){s.Z.state.ratings[a].rating=e.rating,s.Z.state.ratings[a].description=e.description,s.Z.state.ratings[a].picture=e.picture;break t}}}else{let t=s.Z.state.genders;t:for(let a=0;a<=t.length;a+=1){let i=t[a];for(const[t,r]of Object.entries(i))if("id"==t&&String(r)==e.id){s.Z.state.genders[a].rating=e.gender,s.Z.state.genders[a].description=e.description,s.Z.state.genders[a].picture=e.picture;break t}}}})).catch((t=>{this.$emit("update_loading",!1),(0,l.w)("error",`${t.response.data.msg}, status: ${t.response.status}`)}))}},computed:{buttonAttr(){return!0===(this.$v.featureName.$error||this.$v.featureDescription.$error||this.$v.featurePicture.$error)?{disabled:!0}:{disabled:!1}}},watch:{featurePicture(t){if(t.length>0)return this.srcImage=t;this.srcImage=b}}},$=h,C=a(1001),D=(0,C.Z)($,g,f,!1,null,null,null),_=D.exports;const w="https://cmvpmovie.pythonanywhere.com/api/v1.0/";var I={name:"BasicFeatureMovieView",created(){document.title="CMVP Movies Demo - Basic Features"},components:{NewBasicFutureMoviesComponetVue:_,Loading:c()},data(){return{ratings:[],genders:[],vueLoading:{loader:"bars",isLoading:!1,fullPage:!0,transition:"fade",color:"#007BFF",height:"128",width:"128",bgColor:"#000",opacity:"0.9",blur:"2px"}}},methods:{async allRatings(){await s.Z.dispatch("getRating"),s.Z.state.ratings&&(this.ratings=s.Z.state.ratings)},async allGenders(){await s.Z.dispatch("getGender"),s.Z.state.genders&&(this.genders=s.Z.state.genders)},hidden(t,e){return(0,m.Z)(t,e)},modifyModel(t,e,a,i,r,s,n,o,d,c){document.getElementById(t).innerText=e,document.getElementById(a).value=i,document.getElementById(r).value=s,document.getElementById(n).value=o,document.getElementById(d).value=c,document.getElementById(a).dispatchEvent(new Event("input")),document.getElementById(r).dispatchEvent(new Event("input")),document.getElementById(n).dispatchEvent(new Event("input")),document.getElementById(d).dispatchEvent(new Event("input"))},async deleteItem(t){let e=await(0,l.j)("¿Estas seguro de eliminarlo?");if(e){this.vueLoading.isLoading=!0;const e=t.match(/(\d+)/),a={method:"Delete",url:`${w}cinema/${t}`};o()(a).then((a=>{if(this.vueLoading.isLoading=!1,(0,l.w)(a.data.icon,a.data.msg),t.includes("rating")){let t=s.Z.state.ratings;t:for(let a=0;a<t.length;a+=1){let i=t[a];for(const[t,r]of Object.entries(i))if("id"==t&&String(r)==e[0]){s.Z.state.ratings.splice(a,1);break t}}}else{let t=s.Z.state.genders;t:for(let a=0;a<t.length;a+=1){let i=t[a];for(const[t,r]of Object.entries(i))if("id"==t&&String(r)==e[0]){s.Z.state.genders.splice(a,1);break t}}}})).catch((t=>{this.vueLoading.isLoading=!1,(0,l.w)("error",`${t.response.data.msg}, status: ${t.response.status}`)}))}},updateVueLoading(t){this.vueLoading.isLoading=t}},computed:{updateRatings:function(){this.ratings=s.Z.state.ratings},updateGenders:function(){this.genders=s.Z.state.genders}},beforeMount(){this.allRatings(),this.allGenders()},beforeUpdate(){(0,u.Z)()}},y=I,x=(0,C.Z)(y,i,r,!1,null,null,null),P=x.exports},6825:function(t,e){function a(t,e){const a=document.getElementById(t),i=document.getElementById(e);i.classList.contains("d-none")?(a.classList.remove("bi-caret-up-square"),a.classList.add("bi-caret-down-square"),i.classList.remove("animate__fadeOutUp"),i.classList.remove("d-none"),i.classList.add("animate__fadeInDown"),a.hasAttribute("data-bs-content")&&a.setAttribute("data-bs-content","Minimizar Sección")):(a.classList.remove("bi-caret-down-square"),a.classList.add("bi-caret-up-square"),i.classList.remove("animate__fadeInDown"),i.classList.add("animate__fadeOutUp"),window.setTimeout((()=>{i.classList.add("d-none")}),750),a.hasAttribute("data-bs-content")&&a.setAttribute("data-bs-content","Maximizar Sección"))}e["Z"]=a},7924:function(t,e){function a(){const t=[].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]'));t.map((function(t){return new bootstrap.Popover(t)}))}e["Z"]=a},366:function(t,e,a){t.exports=a.p+"img/preview.6adab160.jpg"}}]);
//# sourceMappingURL=features.9a8c3d22.js.map